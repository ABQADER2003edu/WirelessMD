المحاضرة السادسة (**Lec 6**) تركز على مفهومي **Equalization** (الموازنة) و **Diversity** (التنوع) [1].

**1. المواضيع الرئيسية التي يتم تناولها:**
*   مراجعة المفاهيم ذات الصلة (**Review of relevant concepts**) [1].
*   تداخل الرمز البيني (**Inter Symbol Interference - ISI**) [1].
*   طرق تقليل معدل خطأ البتات (**Methods to reduce BER**) [1].
*   أساسيات الموازنة (**Fundamentals of Equalization**) [1].
*   الموازن التكيفي العام (**A Generic Adaptive Equalizer**) [1].

**2. مراجعة المفاهيم ذات الصلة (Review of Relevant Concepts):**
*   **Fading** (الخفوت): ينقسم إلى **Flat Fading** (خفوت مسطح) و **Frequency Selective Fading** (خفوت انتقائي للتردد)، بالإضافة إلى مخاوف أخرى تتعلق بتعدد المسارات (**Other Multi-path Concerns**) [1].
*   **Inter Symbol Interference Representation** (تمثيل تداخل الرمز البيني): يحدث نتيجة تداخل الإشارة المباشرة (**Direct Signal**) مع الإشارة المنعكسة والمتأخرة (**Reflected & Delayed Signal**)، مما يؤدي إلى الإشارة المستلمة التي تظهر تعدد المسارات (**Multipath**) [1].

**3. طرق تقليل معدل خطأ البت (Methods to reduce BER):**

*   **Equalization** (الموازنة):
    *   هي تقنية تُستخدم لتعويض **Inter Symbol Interference** الناتج عن تعدد المسارات ضمن قنوات تشتت الزمن (**time dispersive channels**) [2].
    *   يقوم الموازن (**Equalizer**) في جهاز الاستقبال بالتعويض عن متوسط نطاق سعة القناة وخصائص التأخير المتوقعة [2].
    *   يجب أن تكون الموازنات تكيفية (**adaptive**) لأن القناة تكون عادةً غير معروفة ومتغيرة مع الزمن (**time varying**) [2].
*   **Diversity** (التنوع):
    *   هي تقنية تُستخدم للتعويض عن تشوهات قناة الخفوت (**fading channel impairments**) [2].
    *   يتم تطبيقها باستخدام هوائيين أو أكثر للاستقبال (**receiving antennas**) [2, 3].
    *   يُستخدم التنوع لتقليل عمق ومدة الخفوت (**fades**) التي يتعرض لها جهاز الاستقبال في قناة **flat fading** (خفوت مسطح) [3].
    *   يمكن استخدام هذه التقنيات في المحطات الأساسية وأجهزة الاستقبال المتنقلة [3].
*   **Channel Coding** (ترميز القناة):
    *   تقنية تحسن أداء رابط الاتصال المتنقل عن طريق إضافة بتات بيانات زائدة (**redundant data bits**) في الرسالة المرسلة [3].
    *   يقوم مُرمز القناة (**channel coder**) بتحويل تسلسل رسالة رقمية إلى تسلسل آخر يحتوي على عدد أكبر من البتات [3].
    *   يتم بعد ذلك تضمين الرسالة المرمزة للإرسال في القناة اللاسلكية [4].

**4. أساسيات الموازنة (Fundamentals of Equalization):**
*   يُعد **ISI** العائق الرئيسي أمام إرسال البيانات عالي السرعة عبر القنوات الراديوية المتنقلة (**mobile radio channels**) [4].
*   تُستخدم تقنية **Equalization** لمكافحة **Inter Symbol Interference** [4].
*   نظرًا لأن قنوات الخفوت المتنقلة عشوائية ومتغيرة مع الزمن، يجب أن تتتبع الموازنات خصائص القناة المتغيرة، وتسمى لذلك **adaptive equalizers** (الموازنات التكيفية) [4].

**5. أوضاع تشغيل الموازن التكيفي (Operating modes of adaptive equalizer):**

*   **Training mode** (وضع التدريب):
    *   يرسل جهاز الإرسال تسلسل تدريب معروف وثابت الطول (**known, fixed length training sequence**) حتى يتكيف الموازن [5].
    *   تسلسل التدريب هو إشارة عشوائية زائفة (**pseudo random signal**) أو نمط بت ثابت [5].
    *   يستخدم الموازن التكيفي خوارزمية تكرارية (**recursive algorithm**) لتقييم القناة وتقدير معاملات المرشح (**filter coefficients**) للتعويض عن التشويه الناتج عن تعدد المسارات [5, 6].
*   **Tracking Mode** (وضع التتبع):
    *   عند استقبال بيانات المستخدمين، تتتبع الخوارزمية التكيفية القناة المتغيرة [6].
    *   يغير الموازن التكيفي خصائص المرشح باستمرار بمرور الوقت [6].
    *   عندما يتم تدريب الموازن بنجاح، يقال إنه قد **converged** (تقارب) [6].

*   **Burst Structure for Equalization** (هيكل الدفقة للموازنة): يتكون من تسلسل التدريب (**Training sequence**) وبتات المعلومات (**Information bits**)، وقد يظهر في شكل **Preamble** أو **Midamble** [6, 7].

*   **Working of an Adaptive Equalizer** (عمل الموازن التكيفي): يهدف إلى تحقيق المعادلات الرياضية التي تجعل الاستجابة الكلية للمنظومة تساوي دالة النبضة (مثل $g(t) = f^*(t) \otimes h_{eq}(t) = \delta(t)$) [8].

**6. هيكل الموازن الخطي وخصائصه (Linear Equalizer Structure and Conclusions):**
*   يمكن تطبيق الموازن الخطي (**Linear equalizer**) كمرشح **FIR filter** أو كمرشح شبكي (**lattice filter**) [9].
*   يتم جمع القيم الحالية والسابقة للإشارة المستلمة خطيًا لإنتاج الخرج [9].

**7. خوارزميات الموازنة التكيفية (Algorithms for Adaptive Equalization):**
يتم تحديد أداء الخوارزمية من خلال:
*   **Rate of convergence** (معدل التقارب): عدد التكرارات المطلوبة للوصول إلى الحل الأمثل [9, 10].
*   **Mis-adjustment** (سوء التكيف): المقدار الذي تنحرف به القيمة النهائية لـ **MSE** (متوسط مربع الخطأ) عن الحد الأدنى الأمثل [10].
*   **Computational complexity** (التعقيد الحسابي): عدد العمليات المطلوبة لإكمال تكرار واحد [10].
*   **Numerical properties** (الخصائص العددية): الدقة الناتجة عن ضوضاء التقريب (**round-off noise**) وأخطاء التمثيل في الحاسوب، والتي تؤثر على استقرار الخوارزمية [10, 11].

**8. التنوع (Diversity):**
هو طريقة لتطوير المعلومات من إشارات متعددة مُرسلة عبر مسارات خفوت مستقلة (**independent fading paths**) [12].

*   **أنواع التنوع (Diversity Types):**
    *   **Space Diversity** (تنوع الفضاء): يتم باستخدام عدة هوائيات للاستقبال أو الإرسال أو كليهما [12-14].
        *   مخططات الدمج تشمل: **Switched** (مبدل)، **Selection** (اختيار)، **Equal Gain Combining** (EGC)، **Maximum Ratio** (MRC) [12, 13].
    *   **Polarization Diversity** (تنوع الاستقطاب) [12].
    *   **Frequency Diversity** (تنوع التردد): يتم بتمرير المعلومات على أكثر من تردد حامل (**Carrier frequency**) لضمان عدم تعرض جميع الترددات لنفس تأثيرات الخفوت [15]. (العيب: يتطلب دارة استقبال متعددة المراحل - **multistage receiver circuitry**) [15].
    *   **Time Diversity** (تنوع الزمن): إرسال نفس المعلومات بشكل متكرر بتباعد زمني يتجاوز زمن التماسك للقناة (**coherence time of the channel**) [15, 16].

*   **مخططات دمج التنوع (Diversity Combining Schemes):**
    *   **Switched Combining** (الدمج المبدل): يتم استقبال أفضل إشارة من عدد M من الإشارات حتى تنخفض عن عتبة [14]. ويوجد نوع أبسط يسمى **threshold combining** (دمج العتبة)، حيث يتم إخراج أول إشارة تكون نسبة الإشارة إلى الضوضاء (**SNR**) الخاصة بها فوق عتبة معينة ($\gamma_T$) [17].
    *   **Selection Combining** (دمج الاختيار): يتم أخذ عينات من إشارات الهوائيات واختيار أفضل إشارة لإرسالها إلى إزالة تشكيل واحدة [17].
    *   **Equal-Gain Combining - EGC** (دمج الكسب المتساوي): يتم تعيين أوزان الفروع على الوحدة (**unity**) وتتم مواءمة الإشارات بطور مشترك [18].
    *   **Maximum Ratio Combining - MRC** (دمج النسبة القصوى): يتم ترجيح الإشارات من جميع الفروع وفقًا لنسبة جهد الإشارة إلى قوة الضوضاء (**signal voltage to noise power ratios**) ثم يتم جمعها [18]. (ملاحظة: في مثال **BPSK** لفرعين، كان أداء **MRC** و **EGC** متماثلاً تقريباً) [15].